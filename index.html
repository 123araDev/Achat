<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chatbot Achat</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }
    .chat-container {
      width: 90%;
      max-width: 600px;
      margin: 50px auto;
      background: #fff;
      border-radius: 5px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .chat-header {
      background: #0078d7;
      color: #fff;
      padding: 10px;
      text-align: center;
      font-size: 18px;
      font-weight: bold;
    }
    .chat-body {
      height: 300px;
      overflow-y: auto;
      padding: 10px;
      border-top: 1px solid #ddd;
      border-bottom: 1px solid #ddd;
    }
    .message {
      margin: 10px 0;
    }
    .user {
      text-align: right;
    }
    .bot {
      text-align: left;
    }
    .chat-footer {
      padding: 10px;
      display: flex;
      gap: 10px;
    }
    input[type="text"] {
      flex: 1;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    button {
      background: #0078d7;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background: #005bb5;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-header">Chatbot Achat</div>
    <div class="chat-body" id="chat-body"></div>
    <div class="chat-footer">
      <input type="text" id="user-input" placeholder="√âcrivez votre message..." />
      <button id="send-btn">Envoyer</button>
    </div>
  </div>
  <script>
    const chatBody = document.getElementById('chat-body');
    const userInput = document.getElementById('user-input');
    const sendBtn = document.getElementById('send-btn');

    sendBtn.addEventListener('click', sendMessage);
    userInput.addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });

    function sendMessage() {
      const message = userInput.value.trim();
      if (!message) return;

      appendMessage('user', message);
      userInput.value = '';

      setTimeout(() => {
        const response = getBotResponse(message.toLowerCase());
        appendMessage('bot', response);
      }, 500);
    }

    function appendMessage(sender, message) {
      const div = document.createElement('div');
      div.className = `message ${sender}`;
      div.innerHTML = message;
      chatBody.appendChild(div);
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function getBotResponse(message) {
      // Salutations
      if (message.includes('bonjour') || message.includes('salut')) {
        const responses = [
          "Bonjour ! Je suis Achat, votre assistant virtuel. Comment puis-je vous aider ? üòä",
          "Salut ! C'est Achat. Que puis-je faire pour vous aujourd'hui ?",
        ];
        return getRandomResponse(responses);
      }

      // Capitales avec les espaces correctement g√©r√©s
      const capitals = {
        "france": 'Paris',
        "allemagne": 'Berlin',
        "espagne": 'Madrid',
        "italie": 'Rome',
        "canada": 'Ottawa',
        "japon": 'Tokyo',
        "chine": 'P√©kin',
        "russie": 'Moscou',
        "br√©sil": 'Brasilia',
        "australie": 'Canberra',
        "maroc": 'Rabat',
        "egypte": 'Le Caire',
        "mexique": 'Mexico',
        "inde": 'New Delhi',
        "√©tats-unis": 'Washington D.C.',
        "royaume-uni": 'Londres',
        "suisse": 'Berne',
        "su√®de": 'Stockholm',
        "norv√®ge": 'Oslo',
        "finlande": 'Helsinki',
        "argentine": 'Buenos Aires',
        "afrique-du-sud": 'Pretoria',
        "arabie-saoudite": 'Riyad',
        "tha√Ølande": 'Bangkok',
        "turquie": 'Ankara',
        "cor√©e-du-sud": 'S√©oul',
        "pays-bas": 'Amsterdam',
        "belgique": 'Bruxelles',
        "portugal": 'Lisbonne',
        "autriche": 'Vienne',
        "p√©rou": 'Lima',
        "colombie": 'Bogot√°',
        "philippines": 'Manille',
        "iran": 'T√©h√©ran',
        "irak": 'Bagdad',
        "indon√©sie": 'Jakarta',
        "vietnam": 'Hano√Ø',
        "malaisie": 'Kuala Lumpur',
        "singapour": 'Singapour',
        "nouvelle-z√©lande": 'Wellington',
        "cuba": 'La Havane',
        "chili": 'Santiago',
        "zambie": 'Lusaka',
        "hongrie": 'Budapest',
        "gr√®ce": 'Ath√®nes',
        "pologne": 'Varsovie',
        "kenya": 'Nairobi',
        "alg√©rie": 'Alger',
        "s√©n√©gal": 'Dakar',
        "nigeria": 'Abuja',
        "soudan": 'Khartoum',
        "qatar": 'Doha',
        "oman": 'Mascate',
        "paraguay": 'Asunci√≥n',
        "uruguay": 'Montevideo',
        "bolivie": 'Sucre',
      };

      // Remplacer les espaces dans les pays par des tirets
      message = message.toLowerCase().replace(/ /g, '-');

      for (const country in capitals) {
        if (message.includes(country)) {
          return `La capitale de ${country.charAt(0).toUpperCase() + country.slice(1)} est ${capitals[country]}.`;
        }
      }

      // Exemple de calcul simple
      if (message.match(/(\d+)(\s*[+\-x*/]\s*)(\d+)/)) {
        try {
          const equation = message.replace('x', '*').replace(/[^0-9+\-*/.]/g, '');
          return `Le r√©sultat est ${eval(equation)}`;
        } catch {
          return "Je n'ai pas pu r√©soudre cette √©quation.";
        }
      }

      // R√©ponse g√©n√©rique si le message n'est pas compris
      return "Je n'ai pas compris votre demande. Pouvez-vous reformuler ?";
    }

    // Fonction pour obtenir une r√©ponse al√©atoire parmi plusieurs r√©ponses
    function getRandomResponse(responses) {
      return responses[Math.floor(Math.random() * responses.length)];
    }

    // Liste des 31 questions fr√©quentes et leurs r√©ponses
    const frequentQuestions = {
      "comment installer une application ?": "Rechercher et t√©l√©charger des applications ou des contenus num√©riques : Sur votre appareil, ouvrez le Google Play Store. ... Recherchez ou parcourez des contenus. S√©lectionnez un article. S√©lectionnez Installer ou le prix de l'article. Suivez les instructions √† l'√©cran pour finaliser la transaction et t√©l√©charger le contenu.",
      "quelle est la m√©t√©o aujourd'hui ?": "Je ne peux pas v√©rifier la m√©t√©o en ce moment.",
      "qui est le pr√©sident de la france ?": "Le pr√©sident de la France est Emmanuel Macron.",
      "combien de pays dans le monde ?": "Il y a 195 pays dans le monde.",
      "quel est le plus grand oc√©an ?": "Le plus grand oc√©an est l'oc√©an Pacifique.",
      "quel est le plus grand pays du monde ?": "Le plus grand pays du monde est la Russie.",
      "quel est le plus haut sommet du monde ?": "Le plus haut sommet du monde est l'Everest, √† 8 848 m√®tres.",
      "quel est le pays le plus peupl√© ?": "Le pays le plus peupl√© est la Chine.",
      "quelles sont les couleurs du drapeau de la france ?": "Le drapeau de la France est bleu, blanc et rouge.",
      "qu'est-ce que l'union europ√©enne ?": "L'Union europ√©enne est une organisation politique et √©conomique de 27 pays europ√©ens.",
      "qu'est-ce que la biodiversit√© ?": "La biodiversit√© d√©signe la vari√©t√© des formes de vie sur Terre.",
      "quel est l'inventeur du t√©l√©phone ?": "L'inventeur du t√©l√©phone est Alexander Graham Bell.",
      "quelle est la dur√©e d'une journ√©e sur Mars ?": "Une journ√©e sur Mars dure environ 24 heures et 39 minutes.",
      "qui a peint la Mona Lisa ?": "La Mona Lisa a √©t√© peinte par L√©onard de Vinci.",
      "quel est l'animal le plus grand ?": "L'animal le plus grand est la baleine bleue.",
      "quel est le premier homme sur la Lune ?": "Neil Armstrong a √©t√© le premier homme sur la Lune en 1969.",
      "qu'est-ce que la photosynth√®se ?": "La photosynth√®se est le processus par lequel les plantes fabriquent leur nourriture √† partir de la lumi√®re.",
      "quelle est la capitale de l'italie ?": "La capitale de l'Italie est Rome.",
      "combien de continents existe-t-il ?": "Il y a 7 continents : Afrique, Am√©rique, Antarctique, Asie, Europe, Oc√©anie et Antarctique.",
      "quelles sont les grandes pyramides d'√âgypte ?": "Les grandes pyramides d'√âgypte sont √† Gizeh, incluant la pyramide de Kh√©ops.",
      "qu'est-ce que l'effet de serre ?": "L'effet de serre est un ph√©nom√®ne o√π les gaz dans l'atmosph√®re retiennent la chaleur.",
      "qui a √©crit 'Les Mis√©rables' ?": "L'auteur de 'Les Mis√©rables' est Victor Hugo.",
      "comment fonctionne une voiture ?": "Une voiture fonctionne en br√ªlant du carburant pour faire tourner un moteur qui propulse les roues.",
      "comment se forme une √©clipse ?": "Une √©clipse se forme lorsqu'un objet c√©leste, comme la Lune, bloque la lumi√®re du Soleil.",
      "quelle est la capitale du japon ?": "La capitale du Japon est Tokyo.",
      "qui est Isaac Newton ?": "Isaac Newton √©tait un scientifique c√©l√®bre pour ses lois de la gravitation.",
      "quel est le plus long fleuve du monde ?": "Le plus long fleuve du monde est le Nil, suivi par l'Amazone.",
      "combien de langues sont parl√©es dans le monde ?": "Il y a environ 7 000 langues parl√©es dans le monde.",
      "comment naissent les √©toiles ?": "Les √©toiles naissent dans des nuages de gaz et de poussi√®re qui se contractent sous l'effet de la gravit√©.",
      "quel est l'animal le plus rapide ?": "L'animal le plus rapide est le faucon p√®lerin.",
      "quel est le plus petit pays du monde ?": "Le plus petit pays du monde est le Vatican.",
      "combien de saisons y a-t-il dans une ann√©e ?": "Il y a 4 saisons : printemps, √©t√©, automne et hiver.",
      "qu'est-ce que la gravit√© ?": "La gravit√© est la force d'attraction qui fait que les objets tombent vers la Terre.",
      "qu'est-ce qu'un atome ?": "Un atome est la plus petite unit√© de mati√®re qui compose tous les √©l√©ments.",
      "qui a invent√© le vaccin contre la variole ?": "Le vaccin contre la variole a √©t√© invent√© par Edward Jenner.",
      "comment les oiseaux volent ?": "Les oiseaux volent gr√¢ce √† la pouss√©e des ailes et √† leur forme a√©rodynamique.",
      "qu'est-ce que la R√©volution fran√ßaise ?": "La R√©volution fran√ßaise est une p√©riode o√π le peuple a renvers√© la monarchie et √©tabli la R√©publique.",
      "quel est le plus grand d√©sert du monde ?": "Le plus grand d√©sert du monde est le d√©sert de l'Antarctique.",
      "qu'est-ce que la tectonique des plaques ?": "La tectonique des plaques est la th√©orie qui explique le mouvement des grandes plaques terrestres.",
      "qu'est-ce qu'une √©clipse solaire ?": "Une √©clipse solaire se produit lorsque la Lune passe entre la Terre et le Soleil.",
      "comment se forme un arc-en-ciel ?": "Un arc-en-ciel se forme lorsque la lumi√®re se d√©compose √† travers des gouttes d'eau dans l'air.",
    };
  </script>
</body>
</html>
